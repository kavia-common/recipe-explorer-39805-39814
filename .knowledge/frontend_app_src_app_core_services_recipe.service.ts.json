{"is_source_file": true, "format": "TypeScript", "description": "This file contains an Angular service (RecipeService) responsible for fetching, caching, and searching recipe data from an external API or fallback mock data. It provides an interface for other components to access recipe information and handles error and loading states.", "external_files": ["../models/recipe.model", "../env", "@angular/core", "@angular/common/http", "rxjs", "rxjs/operators"], "external_methods": ["getApiBase"], "published": ["RecipeService"], "classes": [{"name": "RecipeService", "description": "Angular injectable service for managing recipe data, fetching from API or fallback, and providing search and retrieval functionalities."}], "methods": [{"name": "getRecipes", "description": "Retrieves a list of recipes, either from cache, remote API, or mock data."}, {"name": "getRecipeById", "description": "Fetches a single recipe by its ID, either from cache or via API/fallback."}, {"name": "search", "description": "Filters recipes based on a search term matching the title or ingredients."}, {"name": "loading", "description": "Returns an observable indicating if the service is currently loading data."}, {"name": "lastError", "description": "Returns an observable of the last error message, if any."}, {"name": "normalize", "description": "Ensures each recipe has a default image URL if missing."}, {"name": "mockRecipes", "description": "Provides a set of sample recipe data for fallback use."}], "calls": ["inject(HttpClient)", "getApiBase()", "this.http.get<Recipe[]>", "tap()", "catchError()", "of()", "delay()", "this.recipes$.next()", "this.loading$.next()", "this.error$.next()", "this.recipes$.asObservable()", "this.recipes$.value", "of()", "map()"], "search-terms": ["Angular RecipeService", "Recipe API fallback", "Recipe cache management", "Recipe search filtering", "RxJS BehaviorSubject in services"], "state": 2, "file_id": 23, "knowledge_revision": 51, "git_revision": "", "ctags": [{"_type": "tag", "name": "RecipeService", "path": "/home/kavia/workspace/code-generation/recipe-explorer-39805-39814/frontend_app/src/app/core/services/recipe.service.ts", "pattern": "/^export class RecipeService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "apiBase", "path": "/home/kavia/workspace/code-generation/recipe-explorer-39805-39814/frontend_app/src/app/core/services/recipe.service.ts", "pattern": "/^    const apiBase = getApiBase();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "existing", "path": "/home/kavia/workspace/code-generation/recipe-explorer-39805-39814/frontend_app/src/app/core/services/recipe.service.ts", "pattern": "/^    const existing = this.recipes$.value;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "http", "path": "/home/kavia/workspace/code-generation/recipe-explorer-39805-39814/frontend_app/src/app/core/services/recipe.service.ts", "pattern": "/^  private http = inject(HttpClient);$/", "language": "TypeScript", "kind": "property", "scope": "RecipeService", "scopeKind": "class"}, {"_type": "tag", "name": "lower", "path": "/home/kavia/workspace/code-generation/recipe-explorer-39805-39814/frontend_app/src/app/core/services/recipe.service.ts", "pattern": "/^    const lower = term.trim().toLowerCase();$/", "language": "TypeScript", "kind": "constant"}], "hash": "ea6b7e4ecfdc4da45a3ab179aca30b40", "format-version": 4, "code-base-name": "frontend_app", "filename": "frontend_app/src/app/core/services/recipe.service.ts", "fields": [{"name": "private http = inject(HttpClient);", "scope": "RecipeService", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"51": ""}]}